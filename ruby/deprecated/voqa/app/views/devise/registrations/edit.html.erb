<div id="edit_registration-container" class="account_form row">
  <div id="edit_registration" class="well col-xs-6 col-xs-offset-3 col-sm-4 col-sm-offset-4">

    <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :patch }) do |f| %>

      <fieldset>
        <%= devise_error_messages! %>
        <legend>Edit your info</legend>

        <div class="form-group col-xs-12 has-feedback">
          <div class="input-group">
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
            </span>
            <%= f.email_field :email, autocomplete: "off", class: "form-control", placeholder: "email" %>
          </div>
          <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
            <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
          <% end %>
        </div>

        <div class="form-group col-xs-12 has-feedback">
          <div class="input-group">
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
            </span>
            <%= f.text_field :username, autocomplete: "off", class: "form-control", placeholder: "username" %>
          </div>
        </div>

        <div class="form-group col-xs-12 has-feedback">
          <hr />
          <div class="text-center">
            <small>
              <em>leave these fields blank unless changing password</em>
            </small>
          </div>
          <div class="input-group">
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
            </span>
            <% if @validatable %>
              <em>(<%= @minimum_password_length %> characters minimum)</em>
            <% end %>
            <%= f.password_field :password, autocomplete: "off", class: "form-control", placeholder: "new password" %>
          </div>
        </div>

        <div class="form-group col-xs-12 has-feedback">
          <div class="input-group">
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
            </span>
            <%= f.password_field :password_confirmation, autocomplete: "off", class: "form-control", placeholder: "new password confirmation" %>
          </div>
        </div>

        <div class="form-group col-xs-12 has-feedback">
          <hr />
          <div class="text-center">
            <small>
              <strong>requiring password for changes prevents problems</strong>
            </small>
          </div>
          <div class="input-group">
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
            </span>
            <%= f.password_field :current_password, autocomplete: "off", class: "form-control", placeholder: "current password" %>
          </div>
        </div>

        <div class="form-group col-xs-12">
          <%= link_to "Cancel", questions_path, class: "btn btn-default"  %>
          <%= f.submit "Update!", 
                class: "btn btn-primary" %>
        </div>
      </fieldset>
    <% end %>

  </div>
</div>

<div id="danger_zone-container" class="row account_form">
  <div id="danger_zone" class="well col-xs-6 col-xs-offset-3 col-sm-4 col-sm-offset-4 text-center">
    <h3 class="bg-danger alert-danger">DANGER ZONE</h3>

    <%= button_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete, class: "btn btn-danger" %>
  </div>
</div>


